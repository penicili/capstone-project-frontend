{"openapi":"3.1.0","info":{"title":"Capstone KPI & ML API","description":"Backend API for KPI dashboard and ML predictions","version":"1.0.0"},"paths":{"/api/predict/final-result":{"post":{"tags":["predictions"],"summary":"Predict Final Result","description":"Predict final result mahasiswa\n\n- **gender**: F atau M\n- **age_band**: 0-35, 35-55, atau 55<=\n- **studied_credits**: Jumlah kredit yang diambil\n- **num_of_prev_attempts**: Jumlah percobaan sebelumnya\n- **total_clicks**: Total clicks di VLE\n- **avg_assessment_score**: Rata-rata nilai assessment (0-100)","operationId":"predict_final_result_api_predict_final_result_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinalResultRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/predict/dropout":{"post":{"tags":["predictions"],"summary":"Predict Dropout","description":"Predict apakah mahasiswa akan dropout\n\n- **code_module**: Kode modul (AAA-GGG)\n- **code_presentation**: Kode presentasi (2013B, 2013J, 2014B, 2014J)\n- **gender**: F atau M\n- **region**: Region mahasiswa\n- **highest_education**: Pendidikan tertinggi\n- **imd_band**: IMD band\n- **age_band**: 0-35, 35-55, atau 55<=\n- **num_of_prev_attempts**: Jumlah percobaan sebelumnya\n- **studied_credits**: Jumlah kredit yang diambil\n- **disability**: N atau Y","operationId":"predict_dropout_api_predict_dropout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DropoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/models/status":{"get":{"tags":["predictions"],"summary":"Get Models Status","description":"Get status dari loaded models","operationId":"get_models_status_api_models_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelStatusResponse"}}}}}}},"/api/kpi/overview":{"get":{"tags":["kpi"],"summary":"Get Dashboard Overview","description":"Get complete dashboard overview dengan semua KPI metrics","operationId":"get_dashboard_overview_api_kpi_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardOverviewResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/kpi/student-performance":{"get":{"tags":["kpi"],"summary":"Get Student Performance","description":"Get summary performa mahasiswa","operationId":"get_student_performance_api_kpi_student_performance_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KPIResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/kpi/module-statistics":{"get":{"tags":["kpi"],"summary":"Get Module Statistics","description":"Get statistik per modul","operationId":"get_module_statistics_api_kpi_module_statistics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuleStatisticsResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/kpi/vle-engagement":{"get":{"tags":["kpi"],"summary":"Get Vle Engagement","description":"Get summary VLE engagement","operationId":"get_vle_engagement_api_kpi_vle_engagement_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KPIResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/kpi/assessment-summary":{"get":{"tags":["kpi"],"summary":"Get Assessment Summary","description":"Get summary assessment scores","operationId":"get_assessment_summary_api_kpi_assessment_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssessmentSummaryResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AssessmentSummaryItem":{"properties":{"code_module":{"type":"string","title":"Code Module","description":"Kode modul"},"code_presentation":{"type":"string","title":"Code Presentation","description":"Kode presentasi"},"total_students":{"type":"integer","title":"Total Students","description":"Total mahasiswa yang mengerjakan assessment"},"avg_score":{"type":"number","title":"Avg Score","description":"Rata-rata nilai assessment"},"min_score":{"type":"number","title":"Min Score","description":"Nilai minimum"},"max_score":{"type":"number","title":"Max Score","description":"Nilai maksimum"}},"type":"object","required":["code_module","code_presentation","total_students","avg_score","min_score","max_score"],"title":"AssessmentSummaryItem","description":"Item untuk assessment summary","example":{"avg_score":75.5,"code_module":"AAA","code_presentation":"2013J","max_score":100.0,"min_score":20.0,"total_students":95}},"AssessmentSummaryResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Status keberhasilan","default":true},"data":{"items":{"$ref":"#/components/schemas/AssessmentSummaryItem"},"type":"array","title":"Data","description":"List summary assessment per modul"}},"type":"object","required":["data"],"title":"AssessmentSummaryResponse","description":"Response untuk assessment summary","example":{"data":[{"avg_score":75.5,"code_module":"AAA","code_presentation":"2013J","max_score":100.0,"min_score":20.0,"total_students":95}],"success":true}},"DashboardOverviewResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Status keberhasilan","default":true},"data":{"additionalProperties":true,"type":"object","title":"Data","description":"Dashboard data dengan semua metrics"}},"type":"object","required":["data"],"title":"DashboardOverviewResponse","description":"Response untuk dashboard overview","example":{"data":{"assessment_summary":[],"module_statistics":[],"student_performance":{"avg_credits":45.5,"total_distinction":100,"total_fail":200,"total_pass":450,"total_students":1000,"total_withdrawn":250},"vle_engagement":{"avg_clicks_per_student":500.0,"max_clicks":5000,"min_clicks":10,"total_active_students":1000,"total_clicks":500000}},"success":true}},"DropoutRequest":{"properties":{"gender":{"type":"string","pattern":"^(F|M)$","title":"Gender","description":"Gender mahasiswa (F/M)"},"age_band":{"type":"string","pattern":"^(0-35|35-55|55<=)$","title":"Age Band","description":"Kelompok umur"},"studied_credits":{"type":"integer","minimum":0.0,"title":"Studied Credits","description":"Jumlah kredit yang diambil"},"num_of_prev_attempts":{"type":"integer","minimum":0.0,"title":"Num Of Prev Attempts","description":"Jumlah percobaan sebelumnya"},"total_clicks":{"type":"integer","minimum":0.0,"title":"Total Clicks","description":"Total clicks di VLE"},"avg_assessment_score":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Avg Assessment Score","description":"Rata-rata nilai assessment"}},"type":"object","required":["gender","age_band","studied_credits","num_of_prev_attempts","total_clicks","avg_assessment_score"],"title":"DropoutRequest","description":"Request body untuk dropout prediction (uses same 6 features as final_result)","example":{"age_band":"0-35","avg_assessment_score":65.0,"gender":"F","num_of_prev_attempts":0,"studied_credits":60,"total_clicks":1200}},"ErrorResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Status keberhasilan (selalu false untuk error)","default":false},"error":{"type":"string","title":"Error","description":"Pesan error"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail","description":"Detail error tambahan"}},"type":"object","required":["error"],"title":"ErrorResponse","description":"Response untuk error","example":{"detail":"Please ensure all models are loaded before making predictions","error":"Model not loaded","success":false}},"FinalResultRequest":{"properties":{"gender":{"type":"string","pattern":"^(F|M)$","title":"Gender","description":"Gender mahasiswa (F/M)"},"age_band":{"type":"string","pattern":"^(0-35|35-55|55<=)$","title":"Age Band","description":"Kelompok umur"},"studied_credits":{"type":"integer","minimum":0.0,"title":"Studied Credits","description":"Jumlah kredit yang diambil"},"num_of_prev_attempts":{"type":"integer","minimum":0.0,"title":"Num Of Prev Attempts","description":"Jumlah percobaan sebelumnya"},"total_clicks":{"type":"integer","minimum":0.0,"title":"Total Clicks","description":"Total clicks di VLE"},"avg_assessment_score":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Avg Assessment Score","description":"Rata-rata nilai assessment"}},"type":"object","required":["gender","age_band","studied_credits","num_of_prev_attempts","total_clicks","avg_assessment_score"],"title":"FinalResultRequest","description":"Request body untuk final result prediction","example":{"age_band":"35-55","avg_assessment_score":75.5,"gender":"M","num_of_prev_attempts":0,"studied_credits":120,"total_clicks":1500}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"KPIResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Status keberhasilan","default":true},"data":{"title":"Data","description":"Data KPI"}},"type":"object","required":["data"],"title":"KPIResponse","description":"Generic response untuk KPI endpoints","example":{"data":{},"success":true}},"ModelStatusResponse":{"properties":{"models_ready":{"type":"boolean","title":"Models Ready","description":"Apakah semua model sudah ready"},"dropout_model_loaded":{"type":"boolean","title":"Dropout Model Loaded","description":"Status dropout model"},"final_grade_model_loaded":{"type":"boolean","title":"Final Grade Model Loaded","description":"Status final grade model"},"dropout_encoder_loaded":{"type":"boolean","title":"Dropout Encoder Loaded","description":"Status dropout label encoder"},"finalgrade_encoder_loaded":{"type":"boolean","title":"Finalgrade Encoder Loaded","description":"Status final grade label encoder"}},"type":"object","required":["models_ready","dropout_model_loaded","final_grade_model_loaded","dropout_encoder_loaded","finalgrade_encoder_loaded"],"title":"ModelStatusResponse","description":"Response untuk model status","example":{"dropout_encoder_loaded":true,"dropout_model_loaded":true,"final_grade_model_loaded":true,"finalgrade_encoder_loaded":true,"models_ready":true}},"ModuleStatisticsItem":{"properties":{"code_module":{"type":"string","title":"Code Module","description":"Kode modul"},"code_presentation":{"type":"string","title":"Code Presentation","description":"Kode presentasi"},"total_students":{"type":"integer","title":"Total Students","description":"Total mahasiswa di modul ini"},"passed_students":{"type":"integer","title":"Passed Students","description":"Total mahasiswa yang lulus"},"pass_rate":{"type":"number","title":"Pass Rate","description":"Persentase kelulusan"}},"type":"object","required":["code_module","code_presentation","total_students","passed_students","pass_rate"],"title":"ModuleStatisticsItem","description":"Item untuk module statistics","example":{"code_module":"AAA","code_presentation":"2013J","pass_rate":75.0,"passed_students":75,"total_students":100}},"ModuleStatisticsResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Status keberhasilan","default":true},"data":{"items":{"$ref":"#/components/schemas/ModuleStatisticsItem"},"type":"array","title":"Data","description":"List statistik per modul"}},"type":"object","required":["data"],"title":"ModuleStatisticsResponse","description":"Response untuk module statistics","example":{"data":[{"code_module":"AAA","code_presentation":"2013J","pass_rate":75.0,"passed_students":75,"total_students":100}],"success":true}},"PredictionResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Status keberhasilan prediksi"},"prediction":{"title":"Prediction","description":"Hasil prediksi"},"message":{"type":"string","title":"Message","description":"Pesan tambahan","default":""}},"type":"object","required":["success","prediction"],"title":"PredictionResponse","description":"Response untuk prediction","example":{"message":"Prediction completed successfully","prediction":"Pass","success":true}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}